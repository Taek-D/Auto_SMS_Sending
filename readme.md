쿠팡 주문 자동 문자 발송기 v2.0 (Coupang Auto SMS Sender)
이 프로그램은 쿠팡 윙(Wing) 판매자 센터의 주문 정보를 조회하여, 신규 주문(결제 완료) 발생 시 고객에게 자동으로 안내 문자를 발송하는 윈도우용 데스크톱 애플리케이션입니다.

v2.0 버전에는 API 키 유효성 및 네트워크 연결 상태를 사전에 점검할 수 있는 '환경 진단(연결 확인)' 기능이 추가되었습니다.

1. 주요 기능
쿠팡 주문 자동 수집: 쿠팡 Open API를 통해 결제 완료된 주문을 실시간으로 가져옵니다.

자동 문자 발송: '마이문자' 서비스를 연동하여 고객 안심번호로 안내 메시지를 전송합니다.

중복 발송 방지: 이미 발송된 주문번호(Order ID)를 로컬 파일(sent_orders.json)에 저장하여 중복 발송을 막습니다.

[v2.0 New] 환경 진단 기능:

현재 컴퓨터의 공인 IP 확인 (쿠팡 화이트리스트 등록용)

쿠팡 Access/Secret Key 입력 여부 확인

문자 서비스 계정 정보 확인

발송 기록 초기화: 테스트 또는 필요 시 저장된 발송 내역을 초기화할 수 있습니다.

2. 실행 환경 및 설치 방법
개발 환경 (소스 코드 실행 시)
언어: Python 3.x

필수 라이브러리:

Bash

pip install requests
실행 파일(EXE) 생성 방법
파이썬이 설치되지 않은 PC에서 실행하려면 아래 명령어로 EXE 파일을 생성하세요.

Bash

python -m PyInstaller --onefile --noconsole --name "쿠팡문자발송기_v2" coupang_sms.py
생성된 파일은 dist/ 폴더 내에 위치합니다.

3. 사용 방법 (User Guide)
1단계: API 정보 입력
쿠팡 Open API 설정:

쿠팡 윙 접속 > 판매자정보 > 추가판매정보 > OPEN API 키 발급에서 키를 발급받습니다.

[중요] 프로그램 내 '환경 진단' 버튼을 눌러 확인된 공인 IP를 쿠팡 시스템에 등록해야 접속이 가능합니다.

발급받은 업체코드, Access Key, Secret Key를 프로그램에 입력합니다.

마이문자 설정:

마이문자 아이디, 비밀번호, 발신번호(사전 등록된 번호)를 입력합니다.

2단계: 환경 진단 (v2.0 기능)
입력을 마친 후 [환경 진단 (연결 확인)] 버튼을 클릭합니다.

아래 항목들이 초록색(정상) 또는 **파란색(IP)**으로 표시되는지 확인합니다.

● 쿠팡 API 상태

● 마이문자 상태

공인 IP

만약 빨간색(오류)이 뜬다면 입력한 정보를 다시 확인해주세요.

3단계: 조회 및 발송 시작
메시지 템플릿을 확인하거나 수정합니다. (사용 가능 태그: {customer_name}, {store_name}, {order_id})

[▶ 조회 시작] 버튼을 누릅니다.

프로그램이 설정된 주기(기본 60초)마다 주문을 확인하고 문자를 발송합니다.

작업 내용은 하단 '실행 로그' 창에 실시간으로 기록됩니다.

4. 파일 구성
coupang_sms.py: 프로그램 소스 코드

sent_orders.json: 발송 완료된 주문번호가 저장되는 파일 (자동 생성됨)

쿠팡문자발송기_v2.exe: 실행 파일

5. 개발자 주의사항 (필독)
본 소스 코드의 send_sms 함수와 get_coupang_orders 함수 내부에는 실제 API 연동 URL이 비어있거나 테스트용 코드로 작성되어 있습니다.

실제 상용화를 위해서는 아래 내용을 반드시 수정해야 합니다.

마이문자 API URL: send_sms 함수 내 requests.post 부분에 실제 마이문자 연동 주소를 입력하세요.

쿠팡 API URL: get_coupang_orders 함수 내 API 호출 주소와 파라미터(createdAtFrom 등)를 쿠팡 최신 API 문서에 맞춰 날짜가 자동 갱신되도록 수정하세요.

Version: 2.0 Last Updated: 2026-01-04